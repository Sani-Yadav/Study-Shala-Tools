<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Resume - {{ resume.full_name|default:'My Resume' }}</title>
    <style>
        @page {
            size: A4;
            margin: 15mm 10mm 15mm 10mm;
        }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            font-size: 10pt;
            background: #fff;
        }
        .header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        
        .section {
            margin: 15px 0;
            page-break-inside: avoid;
        }
        
        .section-title {
            color: #2c3e50;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 5px;
            margin-bottom: 10px;
            font-size: 16px;
            text-transform: uppercase;
        }
        
        .item {
            margin-bottom: 12px;
            padding-bottom: 8px;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .item-title {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .item-date {
            color: #666;
            font-size: 0.9em;
        }
        
        .item-subtitle {
            color: #3a5a78;
            font-style: italic;
            margin-bottom: 5px;
        }
        
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 5px;
        }
        
        .skill-tag {
            background: #f0f7ff;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.9em;
            color: #2c3e50;
            border: 1px solid #d0e3f7;
        }
        
        .contact-info {
            margin: 10px 0;
            font-size: 0.9em;
            color: #555;
        }
        
        .contact-item {
            margin: 0 10px 5px 0;
            display: inline-block;
        }
        
        .job-title {
            color: #3a5a78;
            font-size: 1.1em;
            margin: 5px 0 10px;
        }
        h1 {
            color: #2c3e50;
            font-size: 24px;
            margin: 10px 0 5px;
            font-weight: bold;
            text-transform: uppercase;
        }
        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            border: 2px solid #3498db;
        }
        .contact-info {
            margin: 8px 0 5px;
            font-size: 9pt;
        }
        .contact-item {
            margin: 0 8px 0 0;
            display: inline-block;
        }
        .section {
            margin: 12px 0;
        }
        .section h2 {
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 5px;
            color: #2c3e50;
            font-size: 14pt;
            font-weight: bold;
            margin: 15px 0 10px;
            text-transform: uppercase;
        }
        .item {
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px dashed #f0f0f0;
        }
        .item:last-child {
            border-bottom: none;
        }
        .item-title {
            font-weight: bold;
            font-size: 11pt;
            color: #2c3e50;
        }
        .item-date {
            color: #666;
            font-size: 9pt;
        }
        .item-subtitle {
            color: #3a5a78;
            margin-bottom: 5px;
            font-size: 10pt;
        }
        .skills {
            margin-bottom: 10px;
        }
        .skill-tag {
            background: #f0f7ff;
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 9pt;
            color: #2c3e50;
            border: 1px solid #d0e3f7;
            display: inline-block;
            margin-right: 5px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        {% if profile_image_url %}
        <img src="{{ profile_image_url }}" class="profile-img" alt="{{ resume.full_name|default:'Profile' }}">
        {% endif %}
        <h1>{{ resume.full_name|default:'Your Name' }}</h1>
        {% if resume.job_title %}
        <div class="job-title">{{ resume.job_title }}</div>
        {% endif %}
        
        <div class="contact-info">
            {% if resume.email %}
            <span class="contact-item">üìß {{ resume.email }}</span>
            {% endif %}
            {% if resume.phone %}
            <span class="contact-item">üì± {{ resume.phone }}</span>
            {% endif %}
            {% if resume.linkedin %}
            <span class="contact-item">üîó {{ resume.linkedin }}</span>
            {% endif %}
            {% if resume.github %}
            <span class="contact-item">üíª {{ resume.github }}</span>
            {% endif %}
            {% if resume.address %}
            <div class="contact-item">üè† {{ resume.address }}</div>
            {% endif %}
        </div>
    </div>
    
    <!-- Professional Summary -->
    {% if resume.summary %}
    <div class="section">
        <h2 class="section-title">Professional Summary</h2>
        <div class="item">
            {{ resume.summary|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    <!-- Work Experience -->
    {% if resume.experiences.all %}
    <div class="section">
        <h2 class="section-title">Work Experience</h2>
        {% for exp in resume.experiences.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ exp.job_title|default:'' }}</span>
                <span class="item-date">
                    {{ exp.start_date|date:'M Y' }} - 
                    {% if exp.currently_working %}
                        Present
                    {% else %}
                        {{ exp.end_date|date:'M Y'|default:'Present' }}
                    {% endif %}
                </span>
            </div>
            <div class="item-subtitle">
                {{ exp.company|default:'' }}
                {% if exp.location %}
                    | {{ exp.location }}
                {% endif %}
            </div>
            {% if exp.description %}
            <div class="item-description">
                {{ exp.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Education -->
    {% if resume.education_entries.all %}
    <div class="section">
        <h2 class="section-title">Education</h2>
        {% for edu in resume.education_entries.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ edu.degree|default:'' }}</span>
                <span class="item-date">
                    {{ edu.start_date|date:'Y' }} - 
                    {{ edu.end_date|date:'Y'|default:'Present' }}
                </span>
            </div>
            <div class="item-subtitle">
                {{ edu.institution|default:'' }}
                {% if edu.location %}
                    | {{ edu.location }}
                {% endif %}
            </div>
            {% if edu.description %}
            <div class="item-description">
                {{ edu.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Projects -->
    {% if resume.projects.all %}
    <div class="section">
        <h2 class="section-title">Projects</h2>
        {% for project in resume.projects.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ project.title|default:'' }}</span>
                {% if project.url %}
                <span class="item-date">
                    <a href="{{ project.url }}" target="_blank">View Project</a>
                </span>
                {% endif %}
            </div>
            {% if project.technologies %}
            <div class="skills-container">
                {% for tech in project.technologies %}
                <span class="skill-tag">{{ tech }}</span>
                {% endfor %}
            </div>
            {% endif %}
            {% if project.description %}
            <div class="item-description">
                {{ project.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Skills -->
    <div class="section">
        <h2 class="section-title">Skills</h2>
        
        {% if resume.technical_skills %}
        <div class="skill-category">
            <h4>Technical Skills</h4>
            <div class="skills-container">
                {% for skill in technical_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        {% if resume.soft_skills %}
        <div class="skill-category">
            <h4>Soft Skills</h4>
            <div class="skills-container">
                {% for skill in soft_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        {% if resume.languages %}
        <div class="skill-category">
            <h4>Languages</h4>
            <div class="skills-container">
                {% for lang in languages %}
                <span class="skill-tag">{{ lang }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
    
    <!-- Certifications -->
    {% if resume.certifications.all %}
    <div class="section">
        <h2 class="section-title">Certifications</h2>
        {% for cert in resume.certifications.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ cert.name|default:'' }}</span>
                {% if cert.issue_date %}
                <span class="item-date">{{ cert.issue_date|date:'M Y' }}</span>
                {% endif %}
            </div>
            {% if cert.issuer %}
            <div class="item-subtitle">{{ cert.issuer }}</div>
            {% endif %}
            {% if cert.credential_url %}
            <div>Credential URL: <a href="{{ cert.credential_url }}" target="_blank">{{ cert.credential_url }}</a></div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Achievements -->
    {% if resume.achievements.all %}
    <div class="section">
        <h2 class="section-title">Achievements</h2>
        <ul>
            {% for achievement in resume.achievements.all %}
            <li>{{ achievement.title }} - {{ achievement.date|date:'M Y' }}</li>
            {% if achievement.description %}
            <p>{{ achievement.description }}</p>
            {% endif %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    
    <!-- References -->
    {% if resume.references.all %}
    <div class="section">
        <h2 class="section-title">References</h2>
        <div class="row">
            {% for ref in resume.references.all %}
            <div class="col-md-6 mb-3">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ ref.name }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{ ref.position }}</h6>
                        <p class="card-text">
                            {% if ref.company %}{{ ref.company }}<br>{% endif %}
                            {% if ref.email %}{{ ref.email }}<br>{% endif %}
                            {% if ref.phone %}{{ ref.phone }}{% endif %}
                        </p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    </div>

    {% if resume.summary %}
    <div class="section">
        <h2>Professional Summary</h2>
        <div>{{ resume.summary }}</div>
    </div>
    {% endif %}

    {% if technical_skills or soft_skills or languages %}
    <div class="section">
        <h2>Skills</h2>
        <div class="skills">
            {% if technical_skills %}
            <div><strong>Technical Skills:</strong>
                {% for skill in technical_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
            {% endif %}
            {% if soft_skills %}
            <div><strong>Soft Skills:</strong>
                {% for skill in soft_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
            {% endif %}
            {% if languages %}
            <div><strong>Languages:</strong>
                {% for lang in languages %}
                <span class="skill-tag">{{ lang }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    {% if resume.certifications.all %}
    <div class="section">
        <h2>Certifications</h2>
        {% for cert in resume.certifications.all %}
        <div class="item">
            <div class="item-title">{{ cert.title }}</div>
            {% if cert.platform %}<div class="item-subtitle">{{ cert.platform }}</div>{% endif %}
            {% if cert.year %}<div>{{ cert.year }}</div>{% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if resume.achievements.all %}
    <div class="section">
        <h2>Achievements</h2>
        <ul>
            {% for achievement in resume.achievements.all %}
            <li>{{ achievement.description }}{% if achievement.date %} ({{ achievement.date|date:"M Y" }}){% endif %}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    {% if hobbies %}
    <div class="section">
        <h2>Interests & Hobbies</h2>
        <div>
            {% for hobby in hobbies %}
            <span class="skill-tag">{{ hobby }}</span>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    {% if resume.references.all %}
    <div class="section">
        <h2>References</h2>
        {% for ref in resume.references.all %}
        <div class="item">
            <div class="item-title">{{ ref.name }}</div>
            {% if ref.relationship %}<div class="item-subtitle">{{ ref.relationship }}</div>{% endif %}
            {% if ref.contact_info %}<div>{{ ref.contact_info }}</div>{% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <div style="text-align: center; margin-top: 40px; color: #777; font-size: 12px;">
        <p>This resume was generated using StudyShala Resume Builder</p>
    </div>
    
    {% if resume.summary %}
    <div class="section">
        <h2 class="section-title">Professional Summary</h2>
        <div class="section-content">
            <p>{{ resume.summary }}</p>
        </div>
    </div>
    {% endif %}
    
    {% if resume.experiences.all %}
    <div class="section">
        <h2 class="section-title">Work Experience</h2>
        {% for exp in resume.experiences.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ exp.job_title|default:'' }}</span>
                <span class="item-date">{{ exp.start_date|date:'M Y' }} - {{ exp.end_date|date:'M Y'|default:'Present' }}</span>
            </div>
            <div class="item-subtitle">{{ exp.company|default:'' }}</div>
            {% if exp.description %}
            <div class="item-description">
                {{ exp.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    {% if resume.education_entries.all %}
    <div class="section">
        <h2 class="section-title">Education</h2>
        {% for edu in resume.education_entries.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ edu.degree|default:'' }}</span>
                <span class="item-date">{{ edu.start_date|date:'Y' }} - {{ edu.end_date|date:'Y'|default:'Present' }}</span>
            </div>
            <div class="item-subtitle">{{ edu.institution|default:'' }}</div>
            {% if edu.description %}
            <div class="item-description">
                {{ edu.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    {% if resume.projects.all %}
    <div class="section">
        <h2 class="section-title">Projects</h2>
        {% for project in resume.projects.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ project.title|default:'' }}</span>
                {% if project.url %}
                <span class="item-date"><a href="{{ project.url }}" target="_blank">View Project</a></span>
                {% endif %}
            </div>
            {% if project.technologies %}
            <div class="skills-container">
                {% for tech in project.technologies %}
                <span class="skill-tag">{{ tech }}</span>
                {% endfor %}
            </div>
            {% endif %}
            {% if project.description %}
            <div class="item-description">
                {{ project.description|linebreaksbr }}
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="section">
        <h2 class="section-title">Skills</h2>
        {% if resume.technical_skills %}
        <div class="skill-category">
            <h4>Technical Skills</h4>
            <div class="skills-container">
                {% for skill in technical_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        {% if resume.soft_skills %}
        <div class="skill-category">
            <h4>Soft Skills</h4>
            <div class="skills-container">
                {% for skill in soft_skills %}
                <span class="skill-tag">{{ skill }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
        
        {% if resume.languages %}
        <div class="skill-category">
            <h4>Languages</h4>
            <div class="skills-container">
                {% for lang in languages %}
                <span class="skill-tag">{{ lang }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
    
    {% if resume.certifications.all %}
    <div class="section">
        <h2 class="section-title">Certifications</h2>
        {% for cert in resume.certifications.all %}
        <div class="item">
            <div class="item-header">
                <span class="item-title">{{ cert.name|default:'' }}</span>
                {% if cert.issue_date %}
                <span class="item-date">{{ cert.issue_date|date:'M Y' }}</span>
                {% endif %}
            </div>
            {% if cert.issuer %}<div class="item-subtitle">{{ cert.issuer }}</div>{% endif %}
            {% if cert.credential_url %}
            <div>Credential URL: <a href="{{ cert.credential_url }}" target="_blank">{{ cert.credential_url }}</a></div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% endif %}
</body>
</html>
